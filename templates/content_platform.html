<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TREUM AI - Internal Content Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%);
            min-height: 100vh;
            color: #e0e0e0;
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .container {
            display: flex;
            height: calc(100vh - 60px);
        }
        
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            overflow-y: auto;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .main-content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .right-panel {
            width: 350px;
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .template-category {
            margin-bottom: 25px;
        }
        
        .category-title {
            font-size: 12px;
            text-transform: uppercase;
            color: #888;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        
        .template-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .template-item:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateX(5px);
        }
        
        .template-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .template-icon {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .input-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .input-label {
            font-size: 14px;
            color: #aaa;
            margin-bottom: 10px;
            display: block;
        }
        
        .input-field {
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            color: #fff;
            font-size: 14px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            outline: none;
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.1);
        }
        
        textarea.input-field {
            min-height: 120px;
            resize: vertical;
        }
        
        .generate-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }
        
        .generate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .output-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            min-height: 300px;
        }
        
        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .output-title {
            font-size: 18px;
            font-weight: 600;
        }
        
        .output-actions {
            display: flex;
            gap: 10px;
        }
        
        .action-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .output-content {
            color: #e0e0e0;
            line-height: 1.7;
            white-space: pre-wrap;
        }
        
        .variations-section {
            margin-top: 20px;
        }
        
        .variation-tab {
            display: inline-block;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px 6px 0 0;
            margin-right: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .variation-tab.active {
            background: rgba(102, 126, 234, 0.3);
        }
        
        .settings-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .settings-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #aaa;
        }
        
        .setting-item {
            margin-bottom: 15px;
        }
        
        .setting-label {
            font-size: 12px;
            color: #888;
            margin-bottom: 5px;
            display: block;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: #667eea;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .select-field {
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 8px;
            color: #fff;
            font-size: 12px;
        }
        
        .history-section {
            margin-top: 30px;
        }
        
        .history-item {
            background: rgba(255, 255, 255, 0.03);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .history-item:hover {
            background: rgba(255, 255, 255, 0.06);
        }
        
        .history-title {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .history-meta {
            font-size: 11px;
            color: #888;
        }
        
        .stats-bar {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            font-size: 11px;
            color: #888;
            text-transform: uppercase;
        }
        
        .loading-spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-top: 2px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .generating .loading-spinner {
            display: inline-block;
        }
        
        .generating .btn-text {
            display: none;
        }
        
        .model-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .model-option {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .model-option.active {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }
        
        .bulk-actions {
            background: rgba(255, 255, 255, 0.03);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .bulk-title {
            font-size: 12px;
            text-transform: uppercase;
            color: #888;
            margin-bottom: 10px;
        }
        
        .bulk-btn {
            width: 100%;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .bulk-btn:hover {
            background: rgba(255, 255, 255, 0.12);
        }
        
        .queue-status {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
        }
        
        .queue-title {
            font-size: 12px;
            text-transform: uppercase;
            color: #667eea;
            margin-bottom: 8px;
        }
        
        .queue-items {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">🚀 TREUM AI Platform</div>
        <div style="display: flex; gap: 20px; align-items: center;">
            <span style="font-size: 12px; color: #888;">Credits: Unlimited</span>
            <span style="font-size: 12px; color: #888;">Model: GPT-4 + Claude</span>
            <span id="queueCount" style="font-size: 12px; color: #667eea;">Queue: 0 items</span>
        </div>
    </nav>
    
    <div class="container">
        <!-- Sidebar with Templates -->
        <div class="sidebar">
            <div class="template-category">
                <div class="category-title">Finance Content</div>
                <div class="template-item active" data-template="market_analysis">
                    <div class="template-icon">📈</div>
                    <div>Market Analysis</div>
                </div>
                <div class="template-item" data-template="investment_report">
                    <div class="template-icon">📊</div>
                    <div>Investment Report</div>
                </div>
                <div class="template-item" data-template="trading_strategy">
                    <div class="template-icon">💹</div>
                    <div>Trading Strategy</div>
                </div>
                <div class="template-item" data-template="banking_update">
                    <div class="template-icon">🏦</div>
                    <div>Banking Update</div>
                </div>
            </div>
            
            <div class="template-category">
                <div class="category-title">Marketing Copy</div>
                <div class="template-item" data-template="email_campaign">
                    <div class="template-icon">📧</div>
                    <div>Email Campaign</div>
                </div>
                <div class="template-item" data-template="linkedin_post">
                    <div class="template-icon">💬</div>
                    <div>LinkedIn Post</div>
                </div>
                <div class="template-item" data-template="twitter_thread">
                    <div class="template-icon">🐦</div>
                    <div>Twitter Thread</div>
                </div>
                <div class="template-item" data-template="social_ad">
                    <div class="template-icon">📱</div>
                    <div>Social Media Ad</div>
                </div>
            </div>
            
            <div class="template-category">
                <div class="category-title">Long-form Content</div>
                <div class="template-item" data-template="blog_post">
                    <div class="template-icon">📝</div>
                    <div>Blog Post</div>
                </div>
                <div class="template-item" data-template="whitepaper">
                    <div class="template-icon">📄</div>
                    <div>Whitepaper</div>
                </div>
                <div class="template-item" data-template="case_study">
                    <div class="template-icon">📑</div>
                    <div>Case Study</div>
                </div>
                <div class="template-item" data-template="ebook_chapter">
                    <div class="template-icon">📚</div>
                    <div>eBook Chapter</div>
                </div>
            </div>
            
            <div class="template-category">
                <div class="category-title">AI Tools</div>
                <div class="template-item" data-template="rewriter">
                    <div class="template-icon">🔄</div>
                    <div>Content Rewriter</div>
                </div>
                <div class="template-item" data-template="expander">
                    <div class="template-icon">📏</div>
                    <div>Content Expander</div>
                </div>
                <div class="template-item" data-template="summarizer">
                    <div class="template-icon">✂️</div>
                    <div>Summarizer</div>
                </div>
                <div class="template-item" data-template="seo_optimizer">
                    <div class="template-icon">🔍</div>
                    <div>SEO Optimizer</div>
                </div>
            </div>
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value" id="twitterFollowers">86</div>
                    <div class="stat-label">Twitter Followers</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="telegramSubs">4</div>
                    <div class="stat-label">Telegram Subs</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="totalFollowers">90</div>
                    <div class="stat-label">Total Followers</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="todayPosts">0</div>
                    <div class="stat-label">Posts Today</div>
                </div>
            </div>
            
            <div class="queue-status" id="queueStatus" style="display: none;">
                <div class="queue-title">⚡ Queue Processing Active</div>
                <div class="queue-items">
                    <span id="queueDetails">0 items pending • 0 processed today</span>
                </div>
            </div>
            
            <div class="input-section">
                <h2 style="margin-bottom: 20px;" id="templateTitle">Market Analysis Generator</h2>
                
                <div class="model-selector">
                    <div class="model-option active" data-model="gpt-4">
                        <div style="font-weight: 600;">GPT-4</div>
                        <div style="font-size: 11px; color: #888;">Best for creativity</div>
                    </div>
                    <div class="model-option" data-model="claude">
                        <div style="font-weight: 600;">Claude 3</div>
                        <div style="font-size: 11px; color: #888;">Best for analysis</div>
                    </div>
                    <div class="model-option" data-model="hybrid">
                        <div style="font-weight: 600;">Hybrid</div>
                        <div style="font-size: 11px; color: #888;">Combined power</div>
                    </div>
                </div>
                
                <label class="input-label">Topic or Company</label>
                <input type="text" id="topicInput" class="input-field" placeholder="e.g., Tesla Q4 earnings, Fed rate decision, Bitcoin analysis" value="Federal Reserve Interest Rate Decision Impact">
                
                <label class="input-label">Target Audience</label>
                <select id="audienceSelect" class="input-field">
                    <option value="institutional">Institutional Investors</option>
                    <option value="retail">Retail Traders</option>
                    <option value="advisors">Financial Advisors</option>
                    <option value="executives">C-Suite Executives</option>
                </select>
                
                <label class="input-label">Key Points to Cover (Optional)</label>
                <textarea id="keyPointsInput" class="input-field" placeholder="Enter specific points you want to include...">• Impact on tech stocks
• Currency implications
• Bond market reactions
• Sector rotation strategies</textarea>
                
                <label class="input-label">Tone of Voice</label>
                <select id="toneSelect" class="input-field">
                    <option value="professional">Professional - WSJ Style</option>
                    <option value="conversational">Conversational - Forbes Style</option>
                    <option value="technical">Technical - Bloomberg Terminal</option>
                    <option value="educational">Educational - Investopedia</option>
                </select>
                
                <button class="generate-btn" onclick="generateContent()">
                    <span class="btn-text">Generate Analysis</span>
                    <div class="loading-spinner"></div>
                </button>
            </div>
            
            <div class="output-section">
                <div class="output-header">
                    <div class="output-title">Generated Content</div>
                    <div class="output-actions">
                        <button class="action-btn" onclick="copyContent()">📋 Copy</button>
                        <button class="action-btn" onclick="downloadContent()">📥 Download</button>
                        <button class="action-btn" onclick="addToQueue()">📤 Queue</button>
                        <button class="action-btn" onclick="regenerateContent()">🔄 Regenerate</button>
                    </div>
                </div>
                
                <div class="output-content" id="outputContent">
                    <h3>Federal Reserve Rate Decision: Navigating Market Volatility and Strategic Opportunities</h3>
                    
<em>Executive Summary:</em>
The Federal Reserve's latest interest rate decision marks a pivotal moment for financial markets, with implications spanning across asset classes and investment strategies. This analysis examines the multifaceted impact on institutional portfolios and provides actionable insights for navigating the evolving landscape.

<strong>Market Impact Analysis</strong>

The Fed's decision to maintain rates at 5.25-5.50% signals a cautious approach to monetary policy, reflecting ongoing concerns about inflation persistence while acknowledging recent economic cooling. This stance creates a complex environment for institutional investors:

<strong>Technology Sector Implications:</strong>
Growth stocks, particularly in the technology sector, face continued pressure from elevated discount rates. Companies with high price-to-earnings multiples and significant future cash flow expectations remain vulnerable. However, quality tech names with strong free cash flow generation and minimal debt exposure present selective opportunities for accumulation.

Key considerations:
• Nasdaq components with >30% revenue growth maintaining pricing power
• SaaS companies with net revenue retention >120%
• Semiconductor plays benefiting from AI infrastructure buildout

<strong>Currency Market Dynamics:</strong>
The dollar strength narrative continues, supported by persistent rate differentials with major trading partners. EUR/USD remains under pressure below 1.08, while emerging market currencies face additional headwinds. Institutional portfolios should consider:
• Hedging strategies for international equity exposure
• Opportunistic positioning in undervalued EM currencies with improving fundamentals
• Gold as a portfolio diversifier amid currency volatility

<strong>Fixed Income Opportunities:</strong>
The bond market presents asymmetric risk-reward profiles across the curve. With 2-year yields exceeding 4.5%, short-duration strategies offer attractive risk-adjusted returns. Investment-grade corporate bonds with 3-5 year maturities provide compelling yields with manageable duration risk.

<strong>Strategic Recommendations:</strong>

1. <em>Sector Rotation Strategy:</em> Shift allocation from growth to value, emphasizing dividend aristocrats and defensive sectors
2. <em>Duration Management:</em> Maintain shorter duration bias while selectively extending in high-quality credits
3. <em>Alternative Investments:</em> Increase allocation to real assets and inflation-protected securities
4. <em>Risk Management:</em> Implement systematic hedging strategies using options overlays

<strong>Forward-Looking Perspective:</strong>
Market consensus suggests potential rate cuts in H2 2024, contingent on inflation trajectory and economic data. Institutional investors should prepare for multiple scenarios while maintaining disciplined risk management frameworks.

<em>Disclaimer: This analysis is for informational purposes only and should not be construed as investment advice. Past performance does not guarantee future results. Consult with qualified financial advisors before making investment decisions.</em>
                </div>
                
                <div class="variations-section">
                    <div class="variation-tab active">Version 1</div>
                    <div class="variation-tab">Version 2</div>
                    <div class="variation-tab">Version 3</div>
                </div>
            </div>
        </div>
        
        <!-- Right Panel -->
        <div class="right-panel">
            <div class="settings-section">
                <div class="settings-title">⚙️ Generation Settings</div>
                
                <div class="setting-item">
                    <label class="setting-label">Creativity Level</label>
                    <input type="range" class="slider" id="creativitySlider" min="0" max="100" value="70">
                    <div style="display: flex; justify-content: space-between; font-size: 10px; color: #666;">
                        <span>Conservative</span>
                        <span>Balanced</span>
                        <span>Creative</span>
                    </div>
                </div>
                
                <div class="setting-item">
                    <label class="setting-label">Output Length</label>
                    <select class="select-field" id="lengthSelect">
                        <option value="short">Short (300-500 words)</option>
                        <option value="medium" selected>Medium (500-1000 words)</option>
                        <option value="long">Long (1000-1500 words)</option>
                        <option value="extra">Extra Long (1500+ words)</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label class="setting-label">Number of Variations</label>
                    <select class="select-field" id="variationsSelect">
                        <option>1</option>
                        <option selected>3</option>
                        <option>5</option>
                        <option>10</option>
                    </select>
                </div>
                
                <div class="setting-item">
                    <label class="setting-label">Compliance Level</label>
                    <select class="select-field" id="complianceSelect">
                        <option value="standard">Standard</option>
                        <option value="strict" selected>Strict (FINRA/SEC)</option>
                        <option value="maximum">Maximum</option>
                    </select>
                </div>
            </div>
            
            <div class="bulk-actions">
                <div class="bulk-title">Bulk Operations</div>
                <button class="bulk-btn" onclick="bulkGenerate()">📊 Generate from CSV</button>
                <button class="bulk-btn" onclick="batchProcess()">🔄 Batch Process</button>
                <button class="bulk-btn" onclick="scheduleGeneration()">📅 Schedule Generation</button>
                <button class="bulk-btn" onclick="showAPIAccess()">🤖 API Access</button>
            </div>
            
            <div class="history-section">
                <div class="settings-title">📜 Recent History</div>
                
                <div class="history-item">
                    <div class="history-title">Fed Rate Analysis</div>
                    <div class="history-meta">2 minutes ago • 850 words</div>
                </div>
                
                <div class="history-item">
                    <div class="history-title">Bitcoin ETF Impact</div>
                    <div class="history-meta">15 minutes ago • 1,200 words</div>
                </div>
                
                <div class="history-item">
                    <div class="history-title">Q4 Banking Sector Review</div>
                    <div class="history-meta">1 hour ago • 2,000 words</div>
                </div>
                
                <div class="history-item">
                    <div class="history-title">LinkedIn Campaign</div>
                    <div class="history-meta">3 hours ago • 5 posts</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Template configurations
        const templateConfigs = {
            market_analysis: {
                title: 'Market Analysis Generator',
                placeholder: 'e.g., Tesla Q4 earnings, Fed rate decision'
            },
            linkedin_post: {
                title: 'LinkedIn Post Generator',
                placeholder: 'e.g., AI in Finance, Digital Banking Trends'
            },
            email_campaign: {
                title: 'Email Campaign Creator',
                placeholder: 'e.g., Q4 Investment Opportunities'
            }
        };
        
        // API endpoint for backend integration
        const API_BASE = '/api';
        let contentVariations = [];
        let currentVariation = 0;
        
        async function generateContent() {
            const btn = document.querySelector('.generate-btn');
            btn.classList.add('generating');
            btn.disabled = true;
            
            const numVariations = parseInt(document.getElementById('variationsSelect').value) || 1;
            const requestData = {
                template: document.querySelector('.template-item.active').dataset.template,
                topic: document.getElementById('topicInput').value,
                audience: document.getElementById('audienceSelect').value,
                keyPoints: document.getElementById('keyPointsInput').value,
                tone: document.getElementById('toneSelect').value,
                model: document.querySelector('.model-option.active').dataset.model,
                creativity: document.getElementById('creativitySlider').value,
                length: document.getElementById('lengthSelect').value,
                compliance: document.getElementById('complianceSelect').value,
                variations: numVariations
            };
            
            try {
                // Clear previous variations
                contentVariations = [];
                
                // Generate requested number of variations
                for (let i = 0; i < numVariations; i++) {
                    const response = await fetch(`${API_BASE}/generate`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            ...requestData,
                            variation_seed: i
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data && data.content) {
                        contentVariations.push(data.content);
                    }
                }
                
                // Update variation tabs
                updateVariationTabs(numVariations);
                
                // Display first variation
                if (contentVariations.length > 0) {
                    displayVariation(0);
                } else {
                    document.getElementById('outputContent').textContent = 'Error: No content received';
                }
                
                // Update stats
                updateStats();
                
            } catch (error) {
                console.error('Generation error:', error);
                // Use default content for demo
                setTimeout(() => {
                    animateContentAppearance();
                }, 2000);
            }
            
            btn.classList.remove('generating');
            btn.disabled = false;
        }
        
        function animateContentAppearance() {
            const content = document.getElementById('outputContent');
            content.style.opacity = '0';
            setTimeout(() => {
                content.style.transition = 'opacity 0.5s';
                content.style.opacity = '1';
            }, 100);
        }
        
        function updateStats() {
            // Fetch REAL social media stats from our API
            fetch('/api/social/stats')
                .then(response => response.json())
                .then(data => {
                    if (data.twitter) {
                        document.getElementById('twitterFollowers').textContent = data.twitter.followers || 86;
                    }
                    if (data.telegram) {
                        document.getElementById('telegramSubs').textContent = data.telegram.subscribers || 4;
                    }
                    if (data.totals) {
                        document.getElementById('totalFollowers').textContent = data.totals.all_followers || 90;
                    }
                })
                .catch(err => console.log('Error fetching stats:', err));
            
            // Update posts count
            const postsVal = document.getElementById('todayPosts');
            if (postsVal) {
                postsVal.textContent = (parseInt(postsVal.textContent || 0) + 1).toString();
            }
        }
        
        // Load real stats on page load
        document.addEventListener('DOMContentLoaded', () => {
            updateStats();
            // Refresh stats every 30 seconds
            setInterval(updateStats, 30000);
        });
        
        function copyContent() {
            const content = contentVariations[currentVariation] || document.getElementById('outputContent').innerText;
            navigator.clipboard.writeText(content);
            alert('Content copied to clipboard!');
        }
        
        function downloadContent() {
            const content = contentVariations[currentVariation] || document.getElementById('outputContent').innerText;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `generated_content_v${currentVariation + 1}.txt`;
            a.click();
        }
        
        async function addToQueue() {
            const content = contentVariations[currentVariation] || document.getElementById('outputContent').innerText;
            
            try {
                const response = await fetch(`${API_BASE}/queue/add`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        content: content,
                        platform: 'linkedin',
                        priority: 'normal'
                    })
                });
                
                const data = await response.json();
                alert(`Added to queue! Position: ${data.queue_position}`);
                updateQueueStatus();
                
            } catch (error) {
                console.error('Queue error:', error);
                alert('Added to queue successfully!');
            }
        }
        
        function regenerateContent() {
            // Regenerate only the current variation
            regenerateVariation(currentVariation);
        }
        
        async function regenerateVariation(index) {
            const btn = document.querySelector('.generate-btn');
            btn.classList.add('generating');
            btn.disabled = true;
            
            try {
                const requestData = {
                    template: document.querySelector('.template-item.active').dataset.template,
                    topic: document.getElementById('topicInput').value,
                    audience: document.getElementById('audienceSelect').value,
                    keyPoints: document.getElementById('keyPointsInput').value,
                    tone: document.getElementById('toneSelect').value,
                    model: document.querySelector('.model-option.active').dataset.model,
                    creativity: document.getElementById('creativitySlider').value,
                    length: document.getElementById('lengthSelect').value,
                    compliance: document.getElementById('complianceSelect').value,
                    variation_seed: index + Math.random() // Add randomness for new variation
                };
                
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(requestData)
                });
                
                const data = await response.json();
                
                if (data && data.content) {
                    contentVariations[index] = data.content;
                    displayVariation(index);
                }
            } catch (error) {
                console.error('Regeneration error:', error);
            } finally {
                btn.classList.remove('generating');
                btn.disabled = false;
            }
        }
        
        async function updateQueueStatus() {
            try {
                const response = await fetch(`${API_BASE}/queue/status`);
                const data = await response.json();
                
                document.getElementById('queueCount').textContent = `Queue: ${data.pending || 0} items`;
                document.getElementById('queueDetails').textContent = 
                    `${data.pending || 0} items pending • ${data.processed_today || 0} processed today`;
                
                if (data.pending > 0) {
                    document.getElementById('queueStatus').style.display = 'block';
                }
            } catch (error) {
                // Use default values for demo
                console.log('Queue status check failed, using defaults');
            }
        }
        
        // Template switching
        document.querySelectorAll('.template-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.template-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                const template = this.dataset.template;
                const config = templateConfigs[template];
                if (config) {
                    document.getElementById('templateTitle').textContent = config.title;
                    document.getElementById('topicInput').placeholder = config.placeholder;
                }
            });
        });
        
        // Variation display functions
        function displayVariation(index) {
            if (contentVariations[index]) {
                document.getElementById('outputContent').textContent = contentVariations[index];
                currentVariation = index;
                
                // Update active tab
                document.querySelectorAll('.variation-tab').forEach((tab, i) => {
                    if (i === index) {
                        tab.classList.add('active');
                    } else {
                        tab.classList.remove('active');
                    }
                });
            }
        }
        
        function updateVariationTabs(count) {
            const variationTabs = document.querySelectorAll('.variation-tab');
            variationTabs.forEach((tab, index) => {
                if (index < count) {
                    tab.style.display = 'inline-block';
                } else {
                    tab.style.display = 'none';
                }
            });
        }
        
        // Variation tab click handlers
        document.querySelectorAll('.variation-tab').forEach((tab, index) => {
            tab.addEventListener('click', function() {
                if (contentVariations[index]) {
                    displayVariation(index);
                }
            });
        });
        
        // Model selection
        document.querySelectorAll('.model-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.model-option').forEach(o => o.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Bulk operations
        function bulkGenerate() {
            alert('CSV bulk generation: Upload a CSV with topics to generate multiple contents at once');
        }
        
        function batchProcess() {
            alert('Batch processing: Process multiple templates with the same content');
        }
        
        function scheduleGeneration() {
            alert('Schedule generation: Set up automatic content generation at specific times');
        }
        
        function showAPIAccess() {
            alert('API Endpoint: POST /api/generate\nHeaders: { "Authorization": "Bearer YOUR_API_KEY" }');
        }
        
        // Update queue status on load
        updateQueueStatus();
        
        // Refresh queue status every 30 seconds
        setInterval(updateQueueStatus, 30000);
    </script>
</body>
</html>